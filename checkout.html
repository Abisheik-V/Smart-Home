<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout - SmartHome Tech</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: #f8f9fa;
    overflow-x: hidden;
  }
  .navbar {
    background: #0d1b2a;
  }
  .navbar-brand, .nav-link {
    color: #fff !important;
    font-weight: bolder;
  }
  .checkout-container {
    margin-top: 40px;
    margin-bottom: 60px;
  }
  .card {
    border-radius: 12px;
  }
  footer { 
    background: #0d1b2a; 
    color: #ddd; 
    padding:40px 20px; 
  }
  footer h5 { color: #fff; }
  footer a { color: #bbb; text-decoration:none; }
  footer a:hover { color:#fff; }

  /* Responsive adjustments */
  @media (max-width: 991px) {
    .checkout-container .row {
      flex-direction: column-reverse;
    }
    .checkout-container .col-md-7,
    .checkout-container .col-md-5 {
      width: 100%;
      margin-bottom: 20px;
    }
  }

  @media (max-width: 767px) {
    input, textarea, select, button {
      width: 100% !important;
    }
    .card {
      padding: 15px !important;
    }
  }
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg">
  <div class="container">
    <a class="navbar-brand" href="index.html">SmartHome Tech</a>
    <button class="navbar-toggler bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="shop.html">Shop</a></li>
        <li class="nav-item"><a class="nav-link" href="solutions.html">Solutions</a></li>
        <li class="nav-item"><a class="nav-link" href="support.html">Support</a></li>
        <li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="cart.html">Cart</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact / Login</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Checkout -->
<div class="container checkout-container">
  <div class="row">
    <!-- Shipping & Payment Form -->
    <div class="col-md-7">
      <div class="card p-4 shadow-sm">
        <h4>Shipping Information</h4>
        <form id="checkoutForm">
          <div class="mb-3">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-control" id="fullName" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" id="email" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Phone</label>
            <input type="tel" class="form-control" id="phone" required pattern="[0-9]{10}">
          </div>
          <div class="mb-3">
            <label class="form-label">Address</label>
            <textarea class="form-control" id="address" required></textarea>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">City</label>
              <input type="text" class="form-control" id="city" required>
            </div>
            <div class="col-md-3 mb-3">
              <label class="form-label">State</label>
              <input type="text" class="form-control" id="state" required>
            </div>
            <div class="col-md-3 mb-3">
              <label class="form-label">Zip</label>
              <input type="text" class="form-control" id="zip" required pattern="[0-9]{6}">
            </div>
          </div>

          <h4 class="mt-4">Payment Information</h4>
          <div class="mb-3">
            <label class="form-label">Card Number</label>
            <input type="text" class="form-control" id="cardNumber" required pattern="[0-9]{16}">
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Expiry</label>
              <input type="text" class="form-control" id="expiry" placeholder="MM/YY" required pattern="(0[1-9]|1[0-2])\/\d{2}">
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">CVV</label>
              <input type="text" class="form-control" id="cvv" required pattern="[0-9]{3}">
            </div>
          </div>

          <button type="submit" class="btn btn-success w-100">Place Order</button>
        </form>
      </div>
    </div>

    <!-- Order Summary -->
    <div class="col-md-5">
      <div class="card p-4 shadow-sm">
        <h4>Order Summary</h4>
        <ul id="orderItems" class="list-group mb-3"></ul>
        <p class="fw-bold">Subtotal: ₹<span id="subtotal">0</span></p>
        <p>GST (18%): ₹<span id="gst">0</span></p>
        <h5>Total: ₹<span id="total">0</span></h5>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer>
<div class="container">
<div class="row">
<div class="col-md-3">
<h5>Shop</h5>
<ul class="list-unstyled">
<li><a href="shop.html">Lighting</a></li>
<li><a href="shop.html">Security</a></li>
<li><a href="shop.html">Entertainment</a></li>
<li><a href="shop.html">Energy Saving</a></li>
</ul>
</div>
<div class="col-md-3">
<h5>Company</h5>
<ul class="list-unstyled">
<li><a href="about.html">About Us</a></li>
<li><a href="blog.html">Blog</a></li>
<li><a href="support.html">Support</a></li>
<li><a href="contact.html">Contact</a></li>
</ul>
</div>
<div class="col-md-3">
<h5>Policies</h5>
<ul class="list-unstyled">
<li><a href="#">Privacy Policy</a></li>
<li><a href="#">Terms & Conditions</a></li>
<li><a href="#">Returns & Refunds</a></li>
</ul>
</div>
<div class="col-md-3">
<h5>Connect</h5>
<p>Email: support@smarthome.com</p>
<p>Phone: +91 98765 43210</p>
</div>
</div>
<div class="footer-bottom">
<p>&copy; 2025 SmartHome Tech. All Rights Reserved.</p>
</div>
</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Load cart from localStorage
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const orderItems = document.getElementById("orderItems");
  const subtotalEl = document.getElementById("subtotal");
  const gstEl = document.getElementById("gst");
  const totalEl = document.getElementById("total");
  let subtotal = 0;
  orderItems.innerHTML = "";
  cart.forEach(item => {
    const li = document.createElement("li");
    li.className = "list-group-item d-flex justify-content-between";
    let price = typeof item.price === 'string' ? parseFloat(item.price.replace(/[^\d.]/g, '')) : item.price;
    let totalValue = price * item.qty;
    li.innerHTML = `<span>${item.name} (x${item.qty})</span> <span>₹${totalValue.toFixed(2)}</span>`;
    orderItems.appendChild(li);
    subtotal += totalValue;
  });
  const gst = (subtotal * 0.18).toFixed(2);
  const total = (subtotal + parseFloat(gst)).toFixed(2);
  subtotalEl.textContent = subtotal;
  gstEl.textContent = gst;
  totalEl.textContent = total;

  // Checkout form validation
  const form = document.getElementById("checkoutForm");
  const placeOrderBtn = form.querySelector("button[type='submit']");
  form.addEventListener("input", function() {
    placeOrderBtn.disabled = !form.checkValidity();
  });

  form.addEventListener("submit", function(e) {
    e.preventDefault();
    if(cart.length === 0) {
      alert("Cart is empty!");
      return;
    }
    placeOrderBtn.disabled = true;
    placeOrderBtn.innerText = "Processing...";
    setTimeout(() => {
      alert("✅ Order placed successfully!");
      localStorage.removeItem("cart");
      window.location.href = "index.html";
    }, 1500);
  });
</script>
</body>
</html>
